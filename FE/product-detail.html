<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookStore - Chi tiết sản phẩm</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" xintegrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Tùy chỉnh nhỏ */
        .product-card img {
            height: 300px;
            object-fit: cover;
        }
        .product-gallery-img {
            max-height: 500px;
            object-fit: contain;
        }
    </style>
</head>
<body>

    <!-- 1. Header (Navbar) - Lấy từ index.html -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <i class="fa-solid fa-book-open-reader"></i>
                BookStore
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="index.html">Trang chủ</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="categoriesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Danh mục
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="categoriesDropdown">
                            <!-- [CSDL] Lấy từ bảng Categories -->
                            <li><a class="dropdown-item" href="category.html">Tiểu thuyết</a></li>
                            <li><a class="dropdown-item" href="category.html">Khoa học Viễn tưởng</a></li>
                            <li><a class="dropdown-item" href="category.html">Kinh doanh</a></li>
                            <li><a class="dropdown-item" href="category.html">Sách thiếu nhi</a></li>
                        </ul>
                    </li>
                </ul>
                <!-- Thanh tìm kiếm -->
                <form class="d-flex" role="search">
                    <input class="form-control me-2" type="search" placeholder="Tìm kiếm sách, tác giả..." aria-label="Search">
                    <button class="btn btn-outline-success" type="submit">Tìm</button>
                </form>
                <!-- Giỏ hàng và Tài khoản -->
                <ul class="navbar-nav ms-lg-3 mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="cart.html">
                            <i class="fa-solid fa-cart-shopping"></i>
                            <span class="badge rounded-pill bg-danger">3</span>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="login.html">
                            <i class="fa-solid fa-user"></i> Tài khoản
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Nội dung chính -->
    <main class="container my-4">

        <!-- 1. Breadcrumb -->
        <div class="row">
            <div class="col-12">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="index.html">Trang chủ</a></li>
                        <!-- [CSDL] Lấy từ Categories.name -->
                        <li class="breadcrumb-item"><a href="category.html">Tiểu thuyết</a></li>
                        <!-- [CSDL] Lấy từ Products.title -->
                        <li class="breadcrumb-item active" aria-current="page">Tên sách A</li>
                    </ol>
                </nav>
            </div>
        </div>

        <!-- 2. Khu vực thông tin chính (Ảnh và Mua hàng) -->
        <section class="row g-4">
            <!-- Khu vực ảnh sản phẩm (Gallery) -->
            <div class="col-lg-5 col-md-6">
                <div class="card shadow-sm border-0">
                    <div class="card-body">
                        <!-- [CSDL] Lấy từ Products.image_url -->
                        <img src="https://placehold.co/600x500/f8f9fa/6c757d?text=Bia+Sach+Lon" class="img-fluid rounded product-gallery-img" alt="Bìa sách chính">
                        <!-- Có thể thêm ảnh thumbnail ở đây -->
                    </div>
                </div>
            </div>

            <!-- Thông tin mua hàng -->
            <div class="col-lg-7 col-md-6">
                <!-- [CSDL] Lấy từ Products.title -->
                <h2 class="fw-bold">Tên sách A</h2>
                
                <!-- [CSDL] Lấy từ Authors.name -->
                <p class="text-muted fs-5 mb-2">Tác giả: <a href="#" class="text-decoration-none">Nguyễn Văn A</a></p>
                <!-- [CSDL] Lấy từ Publishers.name -->
                <p class="text-muted fs-6 mb-3">Nhà xuất bản: <a href="#" class="text-decoration-none">NXB Trẻ</a></p>
                
                <!-- [CSDL] Lấy từ Products.price -->
                <h3 class="text-danger fw-bolder mb-3">120.000đ</h3>
                
                <!-- [CSDL] Kiểm tra Products.stock_quantity -->
                <div class="alert alert-success" role="alert">
                    <i class="fa-solid fa-check-circle me-2"></i>
                    <strong>Còn hàng</strong> (Còn 50 sản phẩm)
                </div>
                
                <!-- Chọn Số lượng -->
                <div class="mb-3">
                    <label for="quantityInput" class="form-label fw-bold">Số lượng:</label>
                    <div class="input-group" style="max-width: 150px;">
                        <button class="btn btn-outline-secondary" type="button" onclick="this.nextElementSibling.stepDown()">-</button>
                        <input type="number" class="form-control text-center" id="quantityInput" value="1" min="1" max="50"> <!-- max = stock_quantity -->
                        <button class="btn btn-outline-secondary" type="button" onclick="this.previousElementSibling.stepUp()">+</button>
                    </div>
                </div>

                <!-- Nút bấm -->
                <div class="d-flex gap-2">
                    <a href="cart.html" class="btn btn-primary btn-lg">
                        <i class="fa-solid fa-cart-plus me-2"></i>
                        Thêm vào giỏ hàng
                    </a>
                    <!-- [CSDL] Nút này sẽ chuyển đến checkout.html, CẦN KIỂM TRA ĐĂNG NHẬP -->
                    <a href="checkout.html" class="btn btn-danger btn-lg">
                        <i class="fa-solid fa-dollar-sign me-2"></i>
                        Mua ngay
                    </a>
                </div>
            </div>
        </section>

        <!-- 3. Tab Mô tả, Thông số, Bình luận -->
        <section class="row mt-5">
            <div class="col-12">
                <div class="card shadow-sm border-0">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs" id="productTab" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab" aria-controls="description" aria-selected="true">Mô Tả Sản Phẩm</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="specs-tab" data-bs-toggle="tab" data-bs-target="#specs" type="button" role="tab" aria-controls="specs" aria-selected="false">Thông Số Kỹ Thuật</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="comments-tab" data-bs-toggle="tab" data-bs-target="#comments" type="button" role="tab" aria-controls="comments" aria-selected="false">Bình Luận</button>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="tab-content p-3" id="productTabContent">
                            <!-- Tab Mô tả -->
                            <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
                                <h4 class="mb-3">Mô Tả Sản Phẩm</h4>
                                <!-- [CSDL] Lấy từ Products.description -->
                                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                                <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                            </div>
                            <!-- Tab Thông số -->
                            <div class="tab-pane fade" id="specs" role="tabpanel" aria-labelledby="specs-tab">
                                <h4 class="mb-3">Thông Số Kỹ Thuật</h4>
                                <table class="table table-striped table-bordered">
                                    <tbody>
                                        <tr>
                                            <th scope="row" style="width: 200px;">Tác giả</th>
                                            <!-- [CSDL] Lấy từ Authors.name -->
                                            <td>Nguyễn Văn A</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Nhà xuất bản</th>
                                            <!-- [CSDL] Lấy từ Publishers.name -->
                                            <td>NXB Trẻ</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Ngày sinh tác giả</th>
                                            <!-- [CSDL] Lấy từ Authors.year_of_birth -->
                                            <td>1980-01-01</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Quê quán</th>
                                            <!-- [CSDL] Lấy từ Authors.hometown -->
                                            <td>Hà Nội</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">Danh mục</th>
                                            <!-- [CSDL] Lấy từ Categories.name -->
                                            <td>Tiểu thuyết</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <!-- Tab Bình luận -->
                            <div class="tab-pane fade" id="comments" role="tabpanel" aria-labelledby="comments-tab">
                                <h4 class="mb-3">Bình Luận</h4>
                                <!-- [CSDL] Lấy từ bảng Comments (JOIN Users) -->
                                
                                <!-- Bình luận mẫu 1 -->
                                <div class="d-flex mb-3 border-bottom pb-3">
                                    <div class="flex-shrink-0">
                                        <img src="https://placehold.co/50x50/eeeeee/aaaaaa?text=User" class="rounded-circle" alt="User avatar">
                                    </div>
                                    <div class="flex-grow-1 ms-3">
                                        <!-- [CSDL] Lấy từ Users.fullname -->
                                        <h6 class="fw-bold mb-0">Trần Thị B</h6>
                                        <!-- [CSDL] Lấy từ Comments.created_at -->
                                        <small class="text-muted">2 ngày trước</small>
                                        <!-- [CSDL] Lấy từ Comments.comment -->
                                        <p class="mt-1">Sách rất hay, giao hàng nhanh. Cảm ơn shop!</p>
                                    </div>
                                </div>
                                <!-- Bình luận mẫu 2 -->
                                <div class="d-flex mb-3">
                                    <div class="flex-shrink-0">
                                        <img src="https://placehold.co/50x50/eeeeee/aaaaaa?text=User" class="rounded-circle" alt="User avatar">
                                    </div>
                                    <div class="flex-grow-1 ms-3">
                                        <h6 class="fw-bold mb-0">Lê Văn C</h6>
                                        <small class="text-muted">1 tuần trước</small>
                                        <p class="mt-1">Nội dung lôi cuốn, bìa sách đẹp.</p>
                                    </div>
                                </div>

                                <!-- Form gửi bình luận (chỉ hiển thị khi đã đăng nhập) -->
                                <hr>
                                <form class_name="mt-4">
                                    <h5 class="mb-3">Viết bình luận của bạn</h5>
                                    <div class="mb-3">
                                        <textarea class="form-control" id="commentText" rows="3" placeholder="Nhận xét của bạn..."></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Gửi bình luận</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. Khu vực sản phẩm liên quan -->
        <section class="row mt-5">
            <div class="col-12">
                <h2 class="text-center mb-4">Sản Phẩm Liên Quan</h2>
                <!-- [CSDL] Lấy từ bảng Products (cùng Categories.id) -->
                <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
                    <!-- Sản phẩm mẫu 1 -->
                    <div class="col">
                        <div class="card h-100 shadow-sm product-card">
                            <img src="https://tse1.mm.bing.net/th/id/OIP.O33HHD9H4Ew_R7Oc_VGwLQHaFG?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3text=Bia+Sach+2" class="card-img-top" alt="Bìa sách 2">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">Cuốn sách B</h5>
                                <p class="card-text text-muted mb-2">Tác giả: Trần Thị B</p>
                                <h6 class="card-subtitle mb-2 text-danger">99.000đ</h6>
                                <a href="product-detail.html" class="btn btn-primary mt-auto">Xem chi tiết</a>
                            </div>
                        </div>
                    </div>
                    <!-- Sản phẩm mẫu 2 -->
                    <div class="col">
                        <div class="card h-100 shadow-sm product-card">
                            <img src="https://tse1.mm.bing.net/th/id/OIP.O33HHD9H4Ew_R7Oc_VGwLQHaFG?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3text=Bia+Sach+3" class="card-img-top" alt="Bìa sách 3">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">Hành trình C</h5>
                                <p class="card-text text-muted mb-2">Tác giả: Lê Văn C</p>
                                <h6 class="card-subtitle mb-2 text-danger">250.000đ</h6>
                                <a href="product-detail.html" class="btn btn-primary mt-auto">Xem chi tiết</a>
                            </div>
                        </div>
                    </div>
                    <!-- Sản phẩm mẫu 3 -->
                    <div class="col">
                        <div class="card h-100 shadow-sm product-card">
                            <img src="https://tse1.mm.bing.net/th/id/OIP.O33HHD9H4Ew_R7Oc_VGwLQHaFG?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3text=Bia+Sach+4" class="card-img-top" alt="Bìa sách 4">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">Dấu ấn D</h5>
                                <p class="card-text text-muted mb-2">Tác giả: Phạm Thị D</p>
                                <h6 class="card-subtitle mb-2 text-danger">180.000đ</h6>
                                <a href="product-detail.html" class="btn btn-primary mt-auto">Xem chi tiết</a>
                            </div>
                        </div>
                    </div>
                    <!-- Sản phẩm mẫu 4 -->
                    <div class="col">
                        <div class="card h-100 shadow-sm product-card">
                            <img src="https://tse1.mm.bing.net/th/id/OIP.O33HHD9H4Ew_R7Oc_VGwLQHaFG?cb=ucfimg2ucfimg=1&rs=1&pid=ImgDetMain&o=7&rm=3text=Bia+Sach+5" class="card-img-top" alt="Bìa sách 5">
                            <div class="card-body d-flex flex-column">
                                <h5 class="card-title">Sách E</h5>
                                <p class="card-text text-muted mb-2">Tác giả: Tác giả E</p>
                                <h6 class="card-subtitle mb-2 text-danger">110.000đ</h6>
                                <a href="product-detail.html" class="btn btn-primary mt-auto">Xem chi tiết</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- 5. Footer - Lấy từ index.html -->
    <footer class="bg-dark text-white pt-5 pb-4 mt-5">
        <div class="container text-center text-md-start">
            <div class="row">
                <!-- Cột 1: Giới thiệu -->
                <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
                    <h6 class="text-uppercase fw-bold">
                        <i class="fa-solid fa-book-open-Reader me-2"></i>BookStore
                    </h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #7c4dff; height: 2px" />
                    <p>
                        Mang kiến thức đến mọi nhà. Nơi bạn có thể tìm thấy hàng triệu cuốn sách
                        thuộc mọi lĩnh vực với giá cả tốt nhất.
                    </p>
                </div>

                <!-- Cột 2: Danh mục -->
                <div class="col-md-2 col-lg-2 col-xl-2 mx-auto mb-4">
                    <h6 class="text-uppercase fw-bold">Danh mục</h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #7c4dff; height: 2px" />
                    <p><a href="category.html" class="text-white text-decoration-none">Tiểu thuyết</a></p>
                    <p><a href="category.html" class="text-white text-decoration-none">Kinh doanh</a></p>
                    <p><a href="category.html" class="text-white text-decoration-none">Kỹ năng sống</a></p>
                    <p><a href="category.html" class="text-white text-decoration-none">Thiếu nhi</a></p>
                </div>

                <!-- Cột 3: Liên kết -->
                <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mb-4">
                    <h6 class="text-uppercase fw-bold">Hỗ trợ</h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #7c4dff; height: 2px" />
                    <p><a href="#!" class="text-white text-decoration-none">Về chúng tôi</a></p>
                    <p><a href="#!" class="text-white text-decoration-none">Chính sách đổi trả</a></p>
                    <p><a href="#!" class="text-white text-decoration-none">Câu hỏi thường gặp</a></p>
                    <p><a href="#!" class="text-white text-decoration-none">Liên hệ</a></p>
                </div>

                <!-- Cột 4: Liên hệ -->
                <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
                    <h6 class="text-uppercase fw-bold">Liên hệ</h6>
                    <hr class="mb-4 mt-0 d-inline-block mx-auto" style="width: 60px; background-color: #7c4dff; height: 2px" />
                    <p><i class="fas fa-home me-3"></i> 123 Đường ABC, Hà Nội, Việt Nam</p>
                    <p><i class="fas fa-envelope me-3"></i> info@bookstore.com</p>
                    <p><i class="fas fa-phone me-3"></i> +84 123 456 789</p>
                </div>
            </div>
        </div>
        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2)">
            © 2025 Bản quyền thuộc về:
            <a class="text-white text-decoration-none fw-bold" href="index.html">BookStore.com</a>
        </div>
    </footer>


    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>